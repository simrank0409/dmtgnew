if(void 0===$add)var $add={version:{},auto:{disabled:!1}};$add.version.Slider="2.0.1",$add.SliderObj=function(t){function e(t,e){return Math.round(t*(1/e))/(1/e)}function s(t){return isNaN(parseFloat(t))&&t.length>0?s(t.substr(1)):parseFloat(t)}Obj.apply(this),this._settings={direction:"horizontal",min:0,max:100,step:.1,value:50,fontsize:18,formatter:function(t){if((this._settings.step+"").indexOf(".")>-1)var e=(this._settings.step+"").split(".").pop().length;else e=0;if(v=s(t),t<0){var i=!0;t=0-t}else i=!1;if(isNaN(t))return"NaN";var n=Math.floor(t),a=t-n;for(a=Math.round(a*Math.pow(10,e)),a+="";a.length<e;)a="0"+a;return(i?"-":"")+n+(e>0?"."+a:"")},timeout:2e3,range:!1,id:!1,name:"",class:""},Object.defineProperty(this,"settings",{get:function(){return this.trigger("getsetting settings",this._settings),this._settings},set:function(e){this._settings=$.extend(this._settings,t),this.trigger("setsettings settings",this._settings),this.refresh()}}),Object.defineProperty(this,"value",{get:function(){return this.trigger("getvalue value",this._settings.value),this._settings.value},set:function(t){var i=this;if(this._settings.value=t,this._elements.find(".addui-slider-input").val(this._settings.value),this._settings.range){var n=e(parseFloat(this._settings.value.split(",")[0]),this._settings.step),a=e(parseFloat(this._settings.value.split(",")[1]),this._settings.step),d=this._settings.max-this._settings.min,l=n-this._settings.min,o=a-this._settings.min,r=l/d*100,h=o/d*100;this._elements.each(function(t,e){var s=$(e);"vertical"==i._settings.direction?(s.find(".addui-slider-handle").eq(0).css("bottom",r+"%"),s.find(".addui-slider-handle").eq(1).css("bottom",h+"%"),s.find(".addui-slider-range").css("bottom",r+"%").css("height",h-r+"%")):(s.find(".addui-slider-handle").eq(0).css("left",r+"%"),s.find(".addui-slider-handle").eq(1).css("left",h+"%"),s.find(".addui-slider-range").css("left",r+"%").css("width",h-r+"%")),s.find(".addui-slider-handle").eq(0).find(".addui-slider-value span").html(toFunc(i._settings.formatter).call(i,n)),s.find(".addui-slider-handle").eq(1).find(".addui-slider-value span").html(toFunc(i._settings.formatter).call(i,a))})}else{var u=e(s(this._settings.value)-this._settings.min,this._settings.step)/(this._settings.max-this._settings.min)*100;"vertical"==this._settings.direction?(this._elements.find(".addui-slider-handle").css("bottom",u+"%"),this._elements.find(".addui-slider-range").css("height",u+"%"),this._elements.find(".addui-slider-range").css("bottom","0%")):(this._elements.find(".addui-slider-handle").css("left",u+"%"),this._elements.find(".addui-slider-range").css("width",u+"%")),this._elements.find(".addui-slider-value span").html(toFunc(this._settings.formatter).call(this,this._settings.value))}}}),this.renderer=function(){var t=this,i=$("<div class='addui-slider addui-slider-"+this._settings.direction+(this._settings.range?" addui-slider-isrange":"")+" "+this._settings.class+"' "+(this._settings.id?"id='"+this._settings.id+"'":"")+"></div>"),n=($("<input class='addui-slider-input' type='hidden' name='"+this._settings.name+"' value='"+this._settings.value+"' />").appendTo(i),$("<div class='addui-slider-track'></div>").appendTo(i));$("<div class='addui-slider-range'></div>").appendTo(n);if(this._settings.range){var a=$("<div class='addui-slider-handle addui-slider-handle-l'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(n),d=null;function l(n){if(n.preventDefault(),"vertical"==t._settings.direction){if("touchmove"==n.type)var a=n.originalEvent.changedTouches[0].pageY;else a=n.pageY;var d=i.offset().top+i.height()-a,l=t._settings.max-t._settings.min,o=d/i.height()*100}else{if("touchmove"==n.type)var r=n.originalEvent.changedTouches[0].pageX;else r=n.pageX;var h=r-i.offset().left;l=t._settings.max-t._settings.min,o=h/i.width()*100}var u=e(o/100*l+t._settings.min,t._settings.step);u=Math.min(t._settings.max,Math.max(t._settings.min,u));var g=e(s(t._settings.value.split(",")[1]),t._settings.step);g<u&&(g=u),t.value=u+","+g}function o(e){$(window).off("mousemove touchmove",l),d=setTimeout(function(){a.removeClass("addui-slider-handle-active")},t._settings.timeout)}a.on("mousedown touchstart",function(t){clearTimeout(d),a.addClass("addui-slider-handle-active"),$(window).on("mousemove touchmove dragmove",l),$(window).one("mouseup touchend",o)});var r=$("<div class='addui-slider-handle addui-slider-handle-h'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(n),h=null;function u(n){if(n.preventDefault(),"vertical"==t._settings.direction){if("touchmove"==n.type)var a=n.originalEvent.changedTouches[0].pageY;else a=n.pageY;var d=(i.offset().top+i.height()-a)/i.height()*100}else{if("touchmove"==n.type)var l=n.originalEvent.changedTouches[0].pageX;else l=n.pageX;d=(l-i.offset().left)/i.width()*100}var o=e(d/100*(t._settings.max-t._settings.min)+t._settings.min,t._settings.step);o=Math.min(t._settings.max,Math.max(t._settings.min,o));var r=e(s(t._settings.value.split(",")[0]),t._settings.step);r>o&&(r=o),t.value=r+","+o}function g(e){$(window).off("mousemove touchmove",u),h=setTimeout(function(){r.removeClass("addui-slider-handle-active")},t._settings.timeout)}r.on("mousedown touchstart",function(t){clearTimeout(h),r.addClass("addui-slider-handle-active"),$(window).on("mousemove touchmove dragmove",u),$(window).one("mouseup touchend",g)})}else{var v=$("<div class='addui-slider-handle'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(n),m=null;function c(s){if(s.preventDefault(),"vertical"==t._settings.direction){if("touchmove"==s.type)var n=s.originalEvent.changedTouches[0].pageY;else n=s.pageY;var a=(i.offset().top+i.height()-n)/i.height()*100}else{if("touchmove"==s.type)var d=s.originalEvent.changedTouches[0].pageX;else d=s.pageX;a=(d-i.offset().left)/i.width()*100}var l=e(a/100*(t._settings.max-t._settings.min),t._settings.step)+t._settings.min;l=Math.min(t._settings.max,Math.max(t._settings.min,l)),t.value=e(l,t._settings.step)}function f(e){$(window).off("mousemove touchmove",c),m=setTimeout(function(){v.removeClass("addui-slider-handle-active")},t._settings.timeout)}v.on("mousedown touchstart",function(t){clearTimeout(m),v.addClass("addui-slider-handle-active"),$(window).on("mousemove touchmove dragmove",c),$(window).one("mouseup touchend",f)}),i.on("click",function(s){if(s.preventDefault(),"vertical"==t._settings.direction){if("touchmove"==s.type)var n=s.originalEvent.changedTouches[0].pageY;else n=s.pageY;var a=(i.offset().top+i.height()-n)/i.height()*100}else{if("touchmove"==s.type)var d=s.originalEvent.changedTouches[0].pageX;else d=s.pageX;a=(d-i.offset().left)/i.width()*100}var l=e(a/100*(t._settings.max-t._settings.min),t._settings.step)+t._settings.min;l=Math.min(t._settings.max,Math.max(t._settings.min,l)),clearTimeout(m),v.addClass("addui-slider-handle-active"),m=setTimeout(function(){v.removeClass("addui-slider-handle-active")},t._settings.timeout),t.value=l})}return i},this.init=function(t){var i=this;if(this.settings=t,this._settings.range){if((l=this._settings.value+"").indexOf(",")>-1){var n=l.split(","),a=s(n[0]);a=e(a=Math.min(this._settings.max,Math.max(this._settings.min,a)),this._settings.step);var d=s(n[1]);d=e(d=Math.min(this._settings.max,Math.max(this._settings.min,d)),this._settings.step)}else{var l;if((l=e(Math.max(this._settings.min,Math.min(this._settings.max,s(this._settings.value))),this._settings.step))<(this._settings.max-this._settings.min)/2)a=l,d=this._settings.max-l;else d=l,a=this._settings.min+l}this._settings.value=a<d?a+","+d:d+","+a}else this._settings.value=Math.max(this._settings.min,Math.min(this._settings.max,s(this._settings.value)));this.on("render",function(){i.value=i._settings.value}),this.trigger("init",{settings:this._settings})},this.init.apply(this,arguments)},$add.Slider=function(t,e){var s=$(t).each(function(t,s){var i=$(s),n={};i.attr("name")&&(n.name=i.attr("name")),i.attr("class")&&(n.class=i.attr("class")),i.attr("id")&&(n.id=i.attr("id")),i.attr("value")&&(n.value=i.attr("value")),i.attr("min")&&(n.min=i.attr("min")),i.attr("max")&&(n.max=i.attr("max")),i.attr("step")&&(n.step=i.attr("step")),e=$.extend(n,i.data(),e);var a=new $add.SliderObj(e);return a.render(i,"replace"),a});return 0==s.length?null:1==s.length?s[0]:s},$.fn.addSlider=function(t){$add.Slider(this,t)},$add.auto.Slider=function(){$add.auto.disabled||$("[data-addui=slider]").addSlider()},$(function(){$add.auto.Slider()});